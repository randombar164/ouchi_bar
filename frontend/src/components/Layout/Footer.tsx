import Link from "next/link";
import { useRouter } from "next/router";
import { memo, useEffect, useState } from "react";

type MenuItemProps = {
  name: string;
  isActive: boolean;
  icon: React.ReactNode;
  path: string;
};
const MenuItem: React.VFC<MenuItemProps> = ({ name, isActive, icon, path }) => {
  return (
    <Link href={path}>
      <button
        className={`flex flex-col items-center justify-center ${
          isActive ? "text-barOrange-2" : "text-barGray-2"
        }`}
      >
        <div>{icon}</div>
        <p className="text-xs font-bold">{name}</p>
      </button>
    </Link>
  );
};

type IsActivesType = {
  sakagura: boolean;
  register: boolean;
  cocktails: boolean;
};
export const Footer: React.VFC = memo(() => {
  const router = useRouter();
  const path = router?.pathname;
  const [isActives, setIsActives] = useState<IsActivesType>({
    sakagura: false,
    register: false,
    cocktails: false,
  });

  useEffect(() => {
    switch (path) {
      case "/sakagura":
        setIsActives({ sakagura: true, register: false, cocktails: false });
        break;
      case "/register":
        setIsActives({ sakagura: false, register: true, cocktails: false });
        break;
      case "/cocktails":
        setIsActives({ sakagura: false, register: false, cocktails: true });
        break;
      default:
        setIsActives({ sakagura: false, register: false, cocktails: false });
    }
  }, [path]);

  return (
    <div className="fixed bottom-0 z-30 w-full bg-white">
      <div className="flex justify-around items-center w-full h-16 rounded-t-lg shadow-md">
        <MenuItem
          name="My酒蔵"
          isActive={isActives.sakagura}
          path="/sakagura"
          icon={
            <svg
              xmlns="http://www.w3.org/2000/svg"
              className="w-6 h-6"
              fill="none"
              viewBox="0 0 32 32"
              stroke="currentColor"
            >
              <path
                strokeLinecap="round"
                strokeLinejoin="round"
                strokeWidth={1}
                d="M 18.601562 18.511719 C 18.503906 20.8125 17.453125 22.6875 16.222656 22.6875 C 14.992188 22.6875 13.945312 20.8125 13.84375 18.511719 Z M 22.316406 21.015625 C 22.753906 21.015625 23.121094 21.328125 23.203125 21.742188 C 22.820312 21.984375 22.535156 22.363281 22.414062 22.808594 C 22.382812 22.8125 22.351562 22.820312 22.316406 22.820312 C 21.820312 22.820312 21.414062 22.414062 21.414062 21.917969 C 21.414062 21.417969 21.820312 21.015625 22.316406 21.015625 Z M 20.253906 24.632812 C 20.253906 24.027344 20.742188 23.535156 21.347656 23.535156 C 21.953125 23.535156 22.445312 24.027344 22.445312 24.632812 C 22.445312 24.78125 22.414062 24.921875 22.359375 25.054688 C 22.324219 25.136719 22.28125 25.210938 22.226562 25.28125 C 22.027344 25.550781 21.710938 25.730469 21.347656 25.730469 C 20.742188 25.730469 20.253906 25.238281 20.253906 24.632812 Z M 21.445312 28.25 C 20.949219 28.25 20.542969 27.84375 20.542969 27.347656 C 20.542969 27.3125 20.550781 27.28125 20.554688 27.25 C 20.566406 27.117188 20.609375 26.996094 20.671875 26.890625 C 20.761719 26.734375 20.898438 26.609375 21.0625 26.53125 C 21.179688 26.476562 21.308594 26.445312 21.445312 26.445312 C 21.582031 26.445312 21.710938 26.476562 21.828125 26.53125 C 22.023438 26.625 22.179688 26.785156 22.269531 26.984375 C 22.320312 27.09375 22.347656 27.21875 22.347656 27.347656 C 22.347656 27.84375 21.941406 28.25 21.445312 28.25 Z M 23.675781 26.890625 C 23.179688 26.890625 22.773438 26.488281 22.773438 25.988281 C 22.773438 25.875 22.796875 25.765625 22.835938 25.660156 C 22.882812 25.59375 22.921875 25.523438 22.957031 25.449219 C 23.121094 25.230469 23.382812 25.085938 23.675781 25.085938 C 23.839844 25.085938 23.988281 25.132812 24.121094 25.210938 C 24.394531 25.367188 24.578125 25.65625 24.578125 25.988281 C 24.578125 26.015625 24.570312 26.042969 24.570312 26.066406 C 24.527344 26.527344 24.144531 26.890625 23.675781 26.890625 Z M 26.613281 24.921875 C 26.613281 25.421875 26.210938 25.824219 25.710938 25.824219 C 25.546875 25.824219 25.398438 25.777344 25.265625 25.703125 C 25.210938 25.410156 25.078125 25.148438 24.890625 24.929688 C 25.292969 24.753906 25.617188 24.429688 25.804688 24.03125 C 26.257812 24.078125 26.613281 24.457031 26.613281 24.921875 Z M 25.257812 23.273438 C 25.257812 23.3125 25.25 23.34375 25.246094 23.382812 C 25.230469 23.542969 25.179688 23.691406 25.101562 23.828125 C 24.996094 24.007812 24.839844 24.15625 24.648438 24.25 C 24.511719 24.320312 24.359375 24.363281 24.199219 24.367188 C 24.183594 24.367188 24.171875 24.371094 24.160156 24.371094 C 23.578125 24.371094 23.105469 23.914062 23.070312 23.339844 C 23.070312 23.320312 23.0625 23.296875 23.0625 23.273438 C 23.0625 23.128906 23.09375 22.988281 23.148438 22.859375 C 23.214844 22.691406 23.328125 22.546875 23.464844 22.433594 C 23.59375 22.328125 23.742188 22.25 23.90625 22.210938 C 23.988281 22.191406 24.074219 22.179688 24.160156 22.179688 C 24.386719 22.179688 24.601562 22.25 24.777344 22.367188 C 24.84375 22.414062 24.902344 22.46875 24.957031 22.527344 C 24.988281 22.558594 25.015625 22.59375 25.039062 22.628906 C 25.128906 22.746094 25.191406 22.878906 25.226562 23.027344 C 25.246094 23.105469 25.257812 23.1875 25.257812 23.273438 Z M 28.410156 21.25 C 28.34375 21.0625 28.140625 20.964844 27.953125 21.03125 C 27.8125 21.078125 27.671875 21.117188 27.535156 21.140625 C 26.078125 21.40625 24.84375 20.394531 24.21875 19.738281 C 23.941406 19.449219 23.78125 19.230469 23.773438 19.222656 C 23.660156 19.058594 23.4375 19.023438 23.273438 19.136719 C 23.113281 19.25 23.074219 19.472656 23.1875 19.636719 C 23.242188 19.710938 24.015625 20.785156 25.226562 21.425781 C 25.191406 21.515625 25.144531 21.613281 25.09375 21.730469 C 24.820312 21.5625 24.503906 21.460938 24.160156 21.460938 C 24.0625 21.460938 23.96875 21.476562 23.871094 21.492188 C 23.683594 20.804688 23.0625 20.296875 22.316406 20.296875 C 21.425781 20.296875 20.699219 21.023438 20.699219 21.917969 C 20.699219 22.265625 20.8125 22.589844 21.003906 22.855469 C 20.167969 23.015625 19.535156 23.75 19.535156 24.632812 C 19.535156 25.269531 19.867188 25.828125 20.367188 26.152344 C 20.242188 26.261719 20.140625 26.390625 20.054688 26.53125 L 16.582031 26.53125 L 16.582031 23.371094 C 18.148438 23.078125 19.328125 20.894531 19.328125 18.152344 C 19.328125 17.957031 19.167969 17.796875 18.96875 17.796875 L 13.476562 17.796875 C 13.28125 17.796875 13.121094 17.957031 13.121094 18.152344 C 13.121094 20.894531 14.300781 23.078125 15.867188 23.371094 L 15.867188 26.53125 L 11.808594 26.53125 L 11.808594 14.214844 C 11.808594 12.640625 11.003906 11.878906 10.355469 11.261719 C 9.878906 10.808594 9.5 10.445312 9.5 9.855469 L 9.5 3.480469 C 9.5 3.28125 9.339844 3.121094 9.140625 3.121094 L 7.089844 3.121094 C 6.894531 3.121094 6.734375 3.28125 6.734375 3.480469 L 6.734375 9.855469 C 6.734375 10.445312 6.355469 10.808594 5.875 11.261719 C 5.230469 11.878906 4.425781 12.640625 4.425781 14.214844 L 4.425781 26.53125 L 2.140625 26.53125 C 1.941406 26.53125 1.78125 26.691406 1.78125 26.890625 C 1.78125 27.089844 1.941406 27.25 2.140625 27.25 L 4.785156 27.25 C 4.980469 27.25 5.140625 27.089844 5.140625 26.890625 L 5.140625 14.214844 C 5.140625 12.949219 5.765625 12.355469 6.367188 11.78125 C 6.898438 11.277344 7.449219 10.753906 7.449219 9.855469 L 7.449219 3.839844 L 8.785156 3.839844 L 8.785156 9.855469 C 8.785156 10.753906 9.332031 11.277344 9.863281 11.78125 C 10.46875 12.355469 11.089844 12.949219 11.089844 14.214844 L 11.089844 26.890625 C 11.089844 27.089844 11.25 27.25 11.449219 27.25 L 19.835938 27.25 C 19.835938 27.28125 19.828125 27.3125 19.828125 27.347656 C 19.828125 28.238281 20.554688 28.964844 21.445312 28.964844 C 22.292969 28.964844 22.980469 28.308594 23.050781 27.480469 C 23.242188 27.5625 23.453125 27.609375 23.675781 27.609375 C 24.40625 27.609375 25.015625 27.121094 25.21875 26.457031 C 25.375 26.507812 25.539062 26.542969 25.710938 26.542969 C 26.605469 26.542969 27.332031 25.816406 27.332031 24.921875 C 27.332031 24.117188 26.738281 23.453125 25.96875 23.332031 C 25.96875 23.3125 25.972656 23.292969 25.972656 23.273438 C 25.972656 22.890625 25.851562 22.535156 25.644531 22.242188 C 25.75 22.023438 25.832031 21.835938 25.886719 21.714844 C 26.242188 21.832031 26.625 21.90625 27.03125 21.90625 C 27.398438 21.90625 27.789062 21.847656 28.191406 21.707031 C 28.375 21.640625 28.476562 21.4375 28.410156 21.25 Z M 28.410156 21.25"
              />
            </svg>
          }
        />
        <MenuItem
          name="登録"
          isActive={isActives.register}
          path="/register"
          icon={
            <svg
              xmlns="http://www.w3.org/2000/svg"
              className="w-6 h-6"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                strokeLinecap="round"
                strokeLinejoin="round"
                strokeWidth={2}
                d="M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"
              />
            </svg>
          }
        />
        <MenuItem
          name="メニュー"
          isActive={isActives.cocktails}
          path="/cocktails"
          icon={
            <svg
              xmlns="http://www.w3.org/2000/svg"
              className="w-6 h-6"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                strokeLinecap="round"
                strokeLinejoin="round"
                strokeWidth="2"
                d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"
              />
            </svg>
          }
        />
      </div>
    </div>
  );
});

Footer.displayName = "Footer";
